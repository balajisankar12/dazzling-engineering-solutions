<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Contact - Dazzling Engineering Solutions</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{background:#f4f6f9;color:#222}

.nav{
  position:sticky; top:0; z-index:99;
  background:#0b1b3a; color:#fff;
  padding:12px 10%;
  display:flex; align-items:center; justify-content:space-between;
}

.brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:#fff}
.logo{
  width:52px; height:52px; border-radius:10px;
  background:#fff; padding:6px; object-fit:contain;
}
.brand-text{font-size:1.05rem; letter-spacing:.2px; opacity:.95}

.links a{color:#fff; text-decoration:none; margin-left:18px; opacity:.9}
.links a:hover{opacity:1; text-decoration:underline}

section{padding:70px 10%}
h1{color:#004aad;text-align:center;margin-bottom:18px}

form{
  max-width:420px;margin:18px auto;background:#fff;
  padding:22px;border-radius:14px;
  box-shadow:0 10px 25px rgba(0,0,0,.08)
}

input,textarea{
  width:100%;padding:12px;margin:10px 0;
  border-radius:10px;border:1px solid #cbd5e1
}

button{
  width:100%;padding:12px;border:none;border-radius:28px;
  background:#004aad;color:#fff;font-weight:700;cursor:pointer
}

button:hover{background:#00c6ff}

#status{
  text-align:center;
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>

<body>

<nav class="nav">
  <a class="brand" href="/">
    <img src="/assets/logo.png" alt="Logo" class="logo">
    <span class="brand-text"><b>Dazzling</b> Engineering Solutions</span>
  </a>

  <div class="links">
    <a href="/">Home</a>
    <a href="/about.html">About</a>
    <a href="/services.html">Services</a>
    <a href="/team.html">Our Team</a>
    <a href="/contact.html">Contact</a>
  </div>
</nav>

<section>
<h1>Contact Us</h1>

<form id="contact-form">
  <input type="text" name="from_name" placeholder="Your Name" required>
  <input type="email" name="from_email" placeholder="Your Email" required>
  <textarea name="message" placeholder="Message" rows="5" required></textarea>
  <button type="submit">Send</button>
</form>

<p id="status"></p>

</section>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
  (function () {
    emailjs.init("0H1UWMzZ1Q-jlW46s"); // public key
  })();

  document.getElementById("contact-form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const statusEl = document.getElementById("status");
    const btn = this.querySelector("button[type='submit']");

    const name = this.from_name.value.trim();
    const email = this.from_email.value.trim();
    const msg = this.message.value.trim();

    btn.disabled = true;
    statusEl.style.color = "#111";
    statusEl.innerText = "Sending...";

    try {
      // ADMIN
      statusEl.innerText = "Sending to admin...";
      const r1 = await emailjs.send("service_6xnurr3", "template_abq15ef", {
        from_name: name,
        from_email: email,
        message: msg
      });
      console.log("Admin sent:", r1);

      // CUSTOMER
      statusEl.innerText = "Sending thank-you to customer...";
      const r2 = await emailjs.send("service_6xnurr3", "template_acjecbk", {
        to_email: email,
        from_name: name,
        message: msg
      });
      console.log("Customer sent:", r2);

      window.location.href = "thankyou.html";
    } catch (err) {
      console.log("EmailJS error full:", err);
      statusEl.style.color = "red";
      statusEl.innerText = "Failed: " + (err?.text || err?.message || JSON.stringify(err));
      btn.disabled = false;
    }
  });
</script>


</body>
</html>
